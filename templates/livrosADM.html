<!DOCTYPE html>
<html lang="pt-BR" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="../static/js/scripts.js"></script>
    <script src="../static/js/seguranca.js" defer></script>
    <link rel="stylesheet" href="../static/css/livros.css" />
</head>
<body>
    <header>
        <!-- Logo -->
        <div class="header-left">
            <a href="homeADM.html"><img src="../static/img/logo.png" alt="Logo"></a>
        </div>

        <!-- Barra de Pesquisa -->
        <div class="header-center">
            <div class="search-container">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Pesquise Seu Livro" class="search-box">
            </div>
        </div>

        <!-- Dark Mode -->
        <div class="header-right">
            <div class="switch-container">
                Dark Mode
                <label class="switch">
                    <input type="checkbox">
                    <span class="slider"></span>
                </label>
            </div>
        </div>

        <!-- Ícone de Menu com Dropdown -->
        <div class="header-end">
            <div class="menu-container">
                <div class="menu-icon" id="menuButton">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
                <ul class="dropdown-menu" id="dropdownMenu">
                    <li class="menu-item">
                        <img src="../static/img/user.png" alt="Perfil" class="menu-icon-img"><a href="editPerfilADM.html"> Perfil</a>
                    </li>
                    <li class="menu-item"><i class="fas fa-user"></i><a href="addBibliotecarioADM.html">Adicionar Bibliotecario</a></li>   
                    <hr>
                    <li class="menu-item"><a href="relatoriosADM.HTML"><i class="fa-solid fa-file-export"></i>Relatórios</li></a>
                    <li class="menu-item"><a href="multasADM.html"><i class="fa-solid fa-cash-register"></i>Gerenciar Multas</li></a>
                    <li class="menu-item"><a href="livrosADM.html"><i class="fas fa-book"></i> Gerenciar Livros</li></a>
                    <li class="menu-item"><a href="emprestimosADM.html" ><i class="fas fa-sync-alt"></i>Empréstimos</li></a>
                    <hr>
                    <li class="menu-item"><i class="fas fa-sign-out-alt"></i> Sair</li>
                </ul>
            </div>
        </div>
    </header>

    <section>

        <div class="bot">
            <button type="button" class="add-btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalCadastroLivro">
                <i class="fa-solid fa-plus"></i>Adicionar Livro
            </button>
        </div>

        <div class="livro-hud">
            <a></a><img class="livro" src="../static/img/harry potter 1.jpg"></a>
            <div class="actions">
                <button class="edit">Editar</button>
                <button class="delete">Deletar</button>
            </div>
        </div>

    </section>

    <div class="modal fade" id="modalCadastroLivro" tabindex="-1" aria-labelledby="modalCadastroLivroLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="formCadastroLivro">
                    <div class="mb-3">
                      <label for="titulo" class="form-label">Título</label>
                      <input type="text" class="form-control" id="titulo" required>
                    </div>
                    <div class="mb-3">
                      <label for="autor" class="form-label">Autor</label>
                      <input type="text" class="form-control" id="autor" required>
                    </div>
                    <div class="mb-3">
                      <label for="ano" class="form-label">Ano de Publicação</label>
                      <input type="number" class="form-control" id="ano" required>
                    </div>
                    <div class="mb-3">
                      <label for="genero" class="form-label">Gênero</label>
                      <input type="text" class="form-control" id="genero">
                    </div>
                    <div class="mb-3">
                      <label for="descricao" class="form-label">Descrição</label>
                      <textarea class="form-control" id="descricao" rows="3"></textarea>
                    </div>
                    <div class="mb-3">
                      <label for="imagem" class="form-label">Imagem do Livro</label>
                      <input type="file" class="form-control" id="imagem" accept="image/*">
                      <img id="previewImagem" src="#" alt="Prévia da Imagem" class="img-fluid mt-2 d-none">
                    </div>
                    <button type="submit" class="save-btn ">Salvar</button>
                  </form>
            </div>
          </div>
        </div>
      </div>
      
      <script>
      </script>

    <script>

        document.getElementById("formCadastroLivro").addEventListener("submit", function(event) {
            event.preventDefault();
            const titulo = document.getElementById("titulo").value;
            const autor = document.getElementById("autor").value;
            const ano = document.getElementById("ano").value;
            const genero = document.getElementById("genero").value;
        
            console.log("Livro cadastrado:", { titulo, autor, ano, genero });
        
            // Aqui você pode adicionar a lógica para salvar os dados, como uma requisição AJAX para o backend
        
            // Fecha o modal após salvar
            var modal = bootstrap.Modal.getInstance(document.getElementById("modalCadastroLivro"));
            modal.hide();
            document.getElementById("formCadastroLivro").reset();
        });

        // Verifica se o token está armazenado no Local Storage da própria web (SEGURANÇA DO SITE)

        document.querySelector(".menu-item button").addEventListener("click", function () {
    localStorage.removeItem("token"); // Remove o token do localStorage
    window.location.href = "login.html"; // Redireciona para a página de login
});

    </script>
</body>
</html>